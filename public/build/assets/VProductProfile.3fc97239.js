import{o as n,e as r,f as p,a as t,J as l,b as _,v,g as u,O as k,F as m,I as h,n as y,p as P,j as S}from"./app.27d7f9b4.js";import{u as V}from"./data.cb73cd1f.js";import j from"./VRetBtn.70affa28.js";import{f as D,a as B}from"./functions.0fa17830.js";import{_ as C}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as g}from"./StarIcon.7fa622b7.js";import"./IconArrow.d210ad04.js";const o=s=>(P("data-v-44ae6e24"),s=s(),S(),s),I={class:"container-aside"},A={class:"product-container"},N={class:"img-prod"},O=["src"],U={style:{}},T={style:{display:"flex","justify-content":"center","align-items":"center",gap:"1rem"}},$={class:"title"},F={class:"table",style:{margin:"1rem 0"}},J={class:"details-table"},M=o(()=>t("td",{style:{width:"1%"}},[t("h5",null,"Description")],-1)),R=o(()=>t("td",null,[t("h5",null,"Price:")],-1)),z={class:"flex items-center justify-start gap-4"},E={class:"items"},L=o(()=>t("td",null,[t("h5",null,"Status:")],-1)),q=o(()=>t("option",{value:"0"},"Not available",-1)),G=o(()=>t("option",{value:"1"},"Available",-1)),H=[q,G],K=o(()=>t("p",{class:"items"},null,-1)),Q={class:"w-full"},W=o(()=>t("h1",{class:"text-2xl font-bold"}," Customer Reviews ",-1)),X={class:"flex items-end gap-4 m-4"},Y={class:"flex items-center"},Z={class:"text-gray-500 text-xs"},tt={class:"font-bold text-xl",style:{"margin-left":"0"}},et={class:"text-gray-500"},st={class:"flex items-center mt-3 -translate-x-1"},at={class:"mt-3 text-gray-600 text-xl"},lt={__name:"VProductProfile",props:{prod:Object},emits:["back"],setup(s,{emit:x}){const d=s,f=V(),b=i=>{let a=f.data.clients.filter(e=>e.id==i)[0];return` ${a.first_name} ${a.last_name}`};async function w(){const i={seller_product_id:d.prod.seller_product_id,is_available:d.prod.is_available};try{const e=await(await fetch(f.path+"/api/v1/products/updateProductAvailability",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)})).json();if(alert(e.message),e.success)for(let c of d.prod.children)c.is_available=d.prod.is_available}catch(a){alert(a)}}return(i,a)=>(n(),r("div",I,[p(j,{onBack:a[0]||(a[0]=e=>x("back"))}),t("div",A,[t("div",N,[t("img",{src:s.prod.images[0].path,alt:"",class:"img"},null,8,O)]),t("div",U,[t("div",T,[t("p",$,l(s.prod.title),1),t("button",{class:"btn-save delivered",onClick:a[1]||(a[1]=(...e)=>i.updateProductDetails&&i.updateProductDetails(...e))},"Sauvegarder")]),t("div",F,[t("table",J,[t("tr",null,[M,t("td",null,[_(t("textarea",{"onUpdate:modelValue":a[2]||(a[2]=e=>s.prod.description=e),class:"input",rows:"4",cols:`100
									`,style:{width:"100%"}},null,512),[[v,s.prod.description]])])]),t("tr",null,[R,t("td",z,[t("p",E,l(u(D)(s.prod.price)),1),_(t("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>s.prod.price=e),class:"border border-gray-400 rounded-lg"},null,512),[[v,s.prod.price]])])]),t("tr",null,[L,t("td",null,[_(t("select",{name:"",id:"","onUpdate:modelValue":a[4]||(a[4]=e=>s.prod.is_available=e),class:"input",onChange:w},H,544),[[k,s.prod.is_available]]),K])])])])])]),t("div",Q,[W,t("div",X,[t("div",Y,[(n(),r(m,null,h([0,1,2,3,4],e=>p(u(g),{key:e,class:y([s.prod.stars>e?"text-yellow-400":"text-gray-200","h-5 w-5 flex-shrink-0"]),"aria-hidden":"true"},null,8,["class"])),64))]),t("span",Z,l(s.prod.rating)+" Based on "+l(s.prod.all_reviews.length)+" review(s)",1)]),(n(!0),r(m,null,h(s.prod.all_reviews,e=>(n(),r("div",{class:"p-5 mt-4 border-b last:border-none",key:e.id},[t("h2",tt,l(b(e.user_id)),1),t("p",et,l(u(B)(e.created_at)),1),t("div",st,[(n(),r(m,null,h([0,1,2,3,4],c=>p(u(g),{key:c,class:y([e.rating>c?"text-yellow-400":"text-gray-200","h-5 w-5 flex-shrink-0"]),"aria-hidden":"true"},null,8,["class"])),64))]),t("p",at,l(e.review),1)]))),128))])]))}},pt=C(lt,[["__scopeId","data-v-44ae6e24"]]);export{pt as default};
