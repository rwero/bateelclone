import{_ as v}from"./AuthenticatedLayout.4d1445e0.js";import{r as h,h as y,i as w,o as s,b as l,d as x,u as n,w as p,F as _,H as b,a as e,G as g,t as d,K as k,n as j}from"./app.7222468e.js";import{a as C}from"./functions.bc48c851.js";import"./ApplicationLogo.73aebbdf.js";import"./TextInput.f15fb816.js";import"./XMarkIcon.81622aa9.js";const A={"aria-label":"Breadcrumb",class:"flex md:justify-end items-center"},B={role:"list",class:"flex items-center space-x-2"},L={key:0,class:"flex items-center"},P=["href"],E=e("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",class:"h-5 w-4 text-gray-300"},[e("path",{d:"M5.697 4.34L8.98 16.532h1.327L7.025 4.341H5.697z"})],-1),H={key:1,class:"mr-2 text-sm text-gray-700"},$={class:"py-2"},F={class:"max-w-7xl mx-auto"},M={class:"overflow-hidden"},N=e("h2",{class:"font-medium text-4xl text-gray-800 leading-tight p-6 lg:p-8 text-center lg:text-left"}," All Products ",-1),V={class:""},z={id:"scroll",class:"mx-auto max-w-2xl py-8 pt-0 px-6 lg:max-w-7xl lg:px-8"},D={key:0,class:"grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-3 xl:gap-x-4"},G={class:"min-h-80 aspect-w-1 aspect-h-1 w-full overflow-hidden bg-gray-200 hover:opacity-75 cursor-pointer"},I=["href"],K=["src","alt"],R={class:"mt-4 sm:flex justify-between block text-center sm:text-left sm:px-1"},S={class:"text-xl sm:text-md text-gray-700"},T=["href"],U=e("span",{class:"text-[11px] text-gray-600"},"From ",-1),q={class:"text-xl font-medium text-gray-900"},J={class:"flex justify-center items-baseline gap-2"},O=["onClick"],Q=e("div",{class:"flex justify-center items-center"},[e("div",{class:"spinner-border animate-spin inline-block w-10 h-10 border-gray-700 rounded-full",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")])],-1),W=[Q],oe={__name:"AllProducts",setup(X){let o=h(),r=h(0),a=!1;async function f(){if(!a)return;a=!1;const i=await(await fetch(`https://bateelclone.reepoo.site/index.php/api/products?id=${r.value}`)).json();o.value=[...o.value,...i],a=!0}y(async()=>{const i=await(await fetch(`https://bateelclone.reepoo.site/index.php/api/products?id=${r}`)).json();console.log("the data : ",i),o.value=i,console.log("products: ",o.value),r.value=o.value[o.value.length-1].id,a=!0,window.addEventListener("scroll",async()=>{document.getElementById("scroll").getBoundingClientRect().bottom<1200&&await f()})}),w(()=>{window.removeEventListener("scroll")});const m=h([{id:1,name:"Home",href:"#"},{id:2,name:"All Products",href:"#"}]);return(c,i)=>(s(),l(_,null,[x(n(b),{title:"All Products"}),x(v,null,{header:p(()=>[e("nav",A,[e("ol",B,[(s(!0),l(_,null,g(m.value,(t,u)=>(s(),l("li",{key:t.id},[u+1<m.value.length?(s(),l("div",L,[e("a",{href:t.href,class:"mr-2 text-sm font-bold text-gray-900"},d(t.name),9,P),E])):(s(),l("div",H,d(t.name),1))]))),128))])])]),main:p(()=>[e("div",$,[e("div",F,[e("div",M,[N,e("div",V,[e("div",z,[n(r)?(s(),l("div",D,[(s(!0),l(_,null,g(n(o),t=>(s(),l("div",{key:t.id,class:"relative"},[e("div",G,[e("a",{href:c.route("products.show",t.id),class:"block"},[e("img",{src:t.images[0].path,alt:t.imageAlt,class:"h-full w-full object-cover object-center lg:h-full lg:w-full"},null,8,K)],8,I)]),e("div",R,[e("div",null,[e("h3",S,[e("a",{href:c.route("products.show",t.id)},d(t.title),9,T)]),U,e("span",q,d(t.price),1)]),e("div",J,[e("button",{class:"mt-1 border border-gray-500 py-2 w-1/2 sm:w-28 text-md text-gray-500 hover:text-gray-700",onClick:u=>n(C)(t,1)}," Add to cart ",8,O)])])]))),128))])):k("",!0)])])])])]),e("div",{class:j(["px-4 py-12",n(a)?"hidden":""])},W,2)]),_:1})],64))}};export{oe as default};
