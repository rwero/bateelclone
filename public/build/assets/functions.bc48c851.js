import{D as s,J as i}from"./app.7222468e.js";async function c(t,a){if(console.log("adding ",t.title," to cart"),s().props.value.auth.user)try{const e=await i.post("/cart",{product_id:t.id,quantity:Number(a)});alert("added successfully")}catch(e){e.response.status==409?alert("Already in cart"):alert(e.response.statusText)}else{let e=JSON.parse(localStorage.getItem("cart"));if(e.filter(r=>r.product_id==t.id).length>0){alert("already in cart");return}e.push({product_id:t.id,quantity:Number(a),price:t.price,image:t.images[0],title:t.title}),console.log("not logged in"),localStorage.setItem("cart",JSON.stringify(e)),alert("added successfully")}}export{c as a};
