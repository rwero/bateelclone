import{r,m as h,o as _,e as f,g as a,a as t,f as O,b as N,v as T,R as w,n as d,F as g,I as A,M as $,c as E,J as v,p as R,j as M}from"./app.d9929a02.js";import F from"./VOrderDetails.bb6b788a.js";import j from"./IconSearch.10b0fb33.js";import{u as z}from"./data.a1d14ce3.js";import{_ as J}from"./_plugin-vue_export-helper.cdc0426e.js";import"./VRetBtn.77bd577d.js";import"./IconArrow.6c698448.js";import"./VClientProfile.20c914da.js";import"./functions.0fa17830.js";const c=p=>(R("data-v-61505b08"),p=p(),M(),p),U={key:0,class:"container"},W=c(()=>t("h1",null,"Orders",-1)),q={class:"input-wrapper"},G={class:"icon"},H={class:"status"},K={class:"table"},Q=c(()=>t("th",null,"N\xB0 Commande",-1)),X=c(()=>t("th",null,"Prix",-1)),Y=c(()=>t("th",null,"Date",-1)),Z=c(()=>t("th",null,"Status",-1)),tt=c(()=>t("th",null,"Commandes",-1)),et=["onClick"],st=c(()=>t("td",{style:{"text-align":"center"}}," 0",-1)),lt={__name:"VOrders",setup(p){const m=z();let S=r(["Pass\xE9e","Confirm\xE9e","En route","Livr\xE9e","Refus\xE9e","Pr\xEAte","Annul\xE9e"]),o=r(null),n=r(0),u=r(""),D=r(15),b=r(0),C=r(!1);r(window.screen.availWidth);function i(l){b.value=0,n.value=l}const y=h(()=>m.data.orders.filter(l=>`${l.user.first_name} ${l.user.last_name}`.toLowerCase().includes(u.value.toLowerCase())||`${l.id}`.includes(u.value)||l.created_at.includes(u.value))),L=h(()=>n.value==0?y.value:y.value.filter(l=>l.state_id==n.value)),P=h(()=>L.value.slice(b.value,b.value+D.value));function x(l){let s=l.created_at.split("T")[0];if(l.state_id!=4||!l.updated_at)return s;let e=1e3*60,k=new Date(l.created_at).getTime(),B=new Date(l.updated_at).getTime()-k;return l.delay=Math.round(B/e),s+"  - "+l.delay+" min"}function V(){C.value?m.data.orders.sort((l,s)=>l.user.email.toLowerCase().localeCompare(s.user.email.toLowerCase())):m.data.orders.sort((l,s)=>s.user.email.toLowerCase().localeCompare(l.user.email.toLowerCase())),C.value=!C.value}return(l,s)=>(_(),f(g,null,[a(o)?$("",!0):(_(),f("div",U,[W,t("div",q,[t("div",G,[O(j)]),N(t("input",{class:"input",type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>w(u)?u.value=e:u=e),placeholder:"Search for N\xB0, client, vendeur etc..."},null,512),[[T,a(u)]])]),t("div",H,[t("button",{class:d(["btn-stat",{"btn-stat-sel":a(n)===0}]),onClick:s[1]||(s[1]=e=>i(0))}," All ",2),t("button",{class:d(["btn-stat",{"btn-stat-sel":a(n)===1}]),onClick:s[2]||(s[2]=e=>i(1))}," Pass\xE9es ",2),t("button",{class:d(["btn-stat",{"btn-stat-sel":a(n)===2}]),onClick:s[3]||(s[3]=e=>i(2))}," Confirm\xE9es ",2),t("button",{class:d(["btn-stat",{"btn-stat-sel":a(n)===3}]),onClick:s[4]||(s[4]=e=>i(3))}," En routes ",2),t("button",{class:d(["btn-stat",{"btn-stat-sel":a(n)===4}]),onClick:s[5]||(s[5]=e=>i(4))}," Livr\xE9es ",2),t("button",{class:d(["btn-stat",{"btn-stat-sel":a(n)===7}]),onClick:s[6]||(s[6]=e=>i(7))}," Annul\xE9es ",2),t("button",{class:d(["btn-stat",{"btn-stat-sel":a(n)===5}]),onClick:s[7]||(s[7]=e=>i(5))}," Refus\xE9es ",2)]),t("div",K,[t("table",null,[t("thead",null,[t("tr",null,[Q,t("th",{onClick:V},"Email"),X,Y,Z,tt])]),t("tbody",null,[(_(!0),f(g,null,A(a(P),(e,k)=>(_(),f("tr",{key:k,onClick:I=>w(o)?o.value=e:o=e},[t("td",null,v(e.id),1),t("td",null,v(e.user.email),1),t("td",null,v(e.subtotal)+"DA",1),t("td",null,v(x(e)),1),t("td",null,[t("span",{class:d(e.state_id==4?"delivered":e.state_id==5?"refused":e.state_id==2?"confirmed":e.state_id==1?"passed":e.state_id==3?"enroute":e.state_id==7?"canceled":"ready")},v(a(S)[e.state_id-1]),3)]),st],8,et))),128))])])])])),a(o)?(_(),E(F,{key:1,order:a(o),onBack:s[8]||(s[8]=e=>w(o)?o.value=null:o=null)},null,8,["order"])):$("",!0)],64))}},vt=J(lt,[["__scopeId","data-v-61505b08"]]);export{vt as default};
